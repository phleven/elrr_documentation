elrr reset


Remove Application from Docker:
1. Docker Desktop --> Containers
   a. Check elrrdockercompose --> Delete

2. 1. Docker Desktop --> Volumes
   a. Check elrr_docker_resources_db_data_lrs --> Delete
   b. Check elrr_docker_resources_db_data_service --> Delete
   c. Check elrr_docker_resources_db_data_sync --> Delete
   d. Check elrr_docker_resources_db_Kalfka_storage --> Delete

3. Make sure TCP port 2181 for Zookeeper is not in use:
   a. Open Terminal
      1. net stop winnat
      2. net start winnat

4. Create Docker Containers:
   a. Start Docker Desktop

   b.Open terminal
     1. cd C:\Dev\elrrdockercompose
     2. docker compose up
     3. docker compose logs

   c. Check for new containers in Docker Desktop
      1. elrr_docker_resources
         a. sync-db-1
         b. lrs-db-1
         c. zookeeper-1
         d. services-db-1
         e. lrs-1
         f. kalfka-1

5. Create and populate PostgreSQL service and staging schema:
   a. DBeaver --> Database --> New Database Connection --> PostgreSQL
      1. Host = localhost
      2. Port = 5432
      3. Database = service_db
      4. Authentication = Database Native
      5. Username = service_user
      6. Password = service_password
      7. Run service schema.sql
      8. Run insert_jwt_token.sql
   
   b. DBeaver --> Database --> New Database Connection --> PostgreSQL
      1. Host = localhost
      2. Port = 5431
      3. Database = sync_db
      4. Authentication = Database Native
      5. Username = sync_user
      6. Password = sync_password
      7. Run staging schema.sql

   c. DBeaver --> Database --> New Database Connection --> PostgreSQL
      1. Host = localhost
      2. Port = 5433
      3. Database = lrsql_db
      4. Authentication = Database Native
      5. Username = username
      6. Password = password

6. Run Postman to populate lrs-db
   a. POST http://localhost:8083/xapi/statements
   b. Authorization
      1. Basic Auth
      2. Username = my_key
      3. Password = my_secret
   c. Headers
         a. key = X-Experience-API-Version
         b. value = 1.0.3
   d. Body raw, JSON
   
Copy and paste elrr_test_xAPI_statements.text into Postman.